---
title: "Dockerã§Next.js+TailwindCSSé–‹ç™ºç’°å¢ƒã‚’ãƒãƒ¼ãƒ é–‹ç™ºã‚’æ„è­˜ã—ã¦æ§‹ç¯‰ã—ã¦ã¿ãŸ"
emoji: "ğŸ”¥"
type: "tech"
topics:
  - "docker"
  - "nextjs"
  - "eslint"
  - "tailwindcss"
  - "prettier"
published: true
published_at: "2022-04-10 18:07"
---

# æ¦‚è¦
Dockerã‚’åˆ©ç”¨ã—ã¦ã€Next.js, Tailwind CSSã®æœ€ä½é™ã®é–‹ç™ºç’°å¢ƒã‚’æœ€é€Ÿã§æ§‹ç¯‰ã—ãŸã„ã¨æ€ã„ã¾ã™ï¼
ãƒãƒ¼ãƒ é–‹ç™ºã‚’æ„è­˜ã—ã¦ã€ãƒªãƒ³ã‚¿ãƒ¼ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã€Gitã§ç®¡ç†ã—ãŸéš›ã®ä»–ãƒ¡ãƒ³ãƒãƒ¼ãŒå®Ÿè¡Œã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚‚è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚

# 1. Dockerfile, docker-compose.ymlã®ä½œæˆ
æ¦‚è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã€dockerfile, docker-compose.ymlã‚’ä½œæˆã—ã¾ã™ã€‚

```sh:Dockerfile
FROM node:16.14.2-alpine
WORKDIR /app/

CMD [ "yarn", "build" ]
```

```sh:docker-compose.yml
version: "3"
services:
  front:
    build: .
    tty: true
    ports:
      - "3000:3000" # é–‹ç™ºç”¨
      - "4000:4000" # æœ¬ç•ªç”¨
    volumes:
      - ./app/myapp:/app # ./app/{ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå}:/app
    command: yarn dev
```

`Dockerfile`ã§ã¯ã€ECSãªã©ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã€æœ¬ç•ªç’°å¢ƒãŒæ§‹ç¯‰ã§ãã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚ã“ã®æ®µéšã§ã¯ã€Dockerfileã¯æœªå®Œæˆã§ã‚ã‚Šã€ã€Œ10. package.jsonä¿®æ­£ã€ã§å®Œæˆã•ã›ã¾ã™ã€‚

ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã€ç¾æ®µéšã§å®‰å®šç‰ˆã®node:16.14.2ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚
ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’è»½é‡ã«ã™ã‚‹ãŸã‚ã€alpineå‹ã‚’åˆ©ç”¨ã—ã¾ã™ã€‚

`docker-compose.yml`ã§ã¯ã€é–‹ç™ºç’°å¢ƒæ™‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
command(CMD)ã¯ã€`Dockerfile`ã¨`docker-compose.yml`ã§ç•°ãªã£ãŸã‚³ãƒãƒ³ãƒ‰ã‚’è¨˜è¿°ã—ã¦ã„ã¾ã™ï¼ˆ`yarn dev`ã¨`yarn build`ï¼‰ãŒã€æœ€å¾Œã«å‡ºã¦ããŸã‚³ãƒãƒ³ãƒ‰ã§ä¸Šæ›¸ãã•ã‚Œã¦å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
ãã®ãŸã‚ã€é–‹ç™ºæ™‚ã«å®Ÿè¡Œã™ã‚‹`docker-compose up -d`ã‚³ãƒãƒ³ãƒ‰ã§ã¯ã€`docker-compose.yml`ã«è¨˜è¿°ã•ã‚ŒãŸcommandãŒå¾Œè¿°ã¨ãªã‚Šä¸Šæ›¸ãã•ã‚Œã¾ã™ã€‚ã¤ã¾ã‚Šã€é–‹ç™ºæ™‚ã¯`yarn dev`ã‚³ãƒãƒ³ãƒ‰ã®æ–¹ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

```Dockerfile:Dockerfile
CMD ["yarn", "build"]
CMD ["yarn", "start"]
CMD ["yarn", "dev"]

# ã“ã®å ´åˆå¾Œè¿°ã®CMD ["yarn", "dev"]ã®ã¿ãŒé©ç”¨ã•ã‚Œã¦ä»–ã®ã‚³ãƒãƒ³ãƒ‰ã¯ç„¡è¦–ã•ã‚Œã‚‹
```

docker-compose.ymlã®volumesã¯é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

# 2. ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã€create next appå°å…¥

```sh:ãƒ›ã‚¹ãƒˆ
# ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
$ docker-compose build

# ä¸€æ™‚çš„ã«ã‚³ãƒ³ãƒ†ãƒŠä½œæˆã€ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹ï¼ˆä»¥é™ã‚³ãƒ³ãƒ†ãƒŠå†…ã‚·ã‚§ãƒ«
$ docker-compose run --rm front sh

# create next appã‚’å®Ÿè¡Œ
$ yarn create next-app --typescript

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåå…¥åŠ›
âœ” What is your project named? â€¦ myapp
```

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¦ã‚¨ãƒ³ã‚¿ãƒ¼(ã“ã“ã§ã¯ã€`myapp`ã«ã™ã‚‹)ã€‚docker-compose.ymlã®volumeã®ã¨ã“ã‚ã§è¨˜è¼‰ã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã¨åˆã‚ã›ã‚‹ã¨è‰¯ã„ã§ã™ã€‚
å®Œäº†ã™ã‚‹ã¨ã€app/å†…ã«ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ç¾¤ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚

 app/myapp/
	  â”œâ”€â”€ .eslintrc
	  â”œâ”€â”€ .gitignore
	  â”œâ”€â”€ README.md
	  â”œâ”€â”€ next-env.d.ts
	  â”œâ”€â”€ next.config.js
	  â”œâ”€â”€ node_modules
	  â”œâ”€â”€ package.json
	  â”œâ”€â”€ pages/
	  â”œâ”€â”€ public/
	  â”œâ”€â”€ styles/
	  â”œâ”€â”€ tsconfig.json
	  â””â”€â”€ yarn.lock

# 3. Tailwind CSSå°å…¥

2.ã®çŠ¶æ…‹ã®ç¶šãã§ã‚·ã‚§ãƒ«ã¯ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã™ã€‚

```sh:ã‚³ãƒ³ãƒ†ãƒŠå†…
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
$ cd myapp

# TailwindCSSã«ã¾ã¤ã‚ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å°å…¥
$ yarn add -D tailwindcss postcss autoprefixer cssnano

# åˆæœŸåŒ–
$ yarn tailwindcss init -p
```

initã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨`tailwind.config.js`ã€`postcss.config.js`ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

å„å°å…¥ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¤ã„ã¦

- postcss 
	- CSSæ§‹æ–‡ã‚’ä¾¿åˆ©ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãªã©ã‚’é€šã—ã¦ã‚ˆã‚Šè‰¯ã„CSSã¸ã¨å¤‰æ›ã—ã¦ãã‚Œã‚‹ã€JavaScriptã§æ›¸ã„ãŸãƒ„ãƒ¼ãƒ«
	- TailwindCSS, autoprefixer, cssnanoã¯ã€postCSSã®ãƒ—ãƒ©ã‚¤ã‚°ã‚¤ãƒ³ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹
- tailwindcss 
	- Tailwind CSSæœ¬ä½“
	- PostCSSã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã—ã¦åˆ©ç”¨ã™ã‚‹
- autoprefixer 
	- ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ—ãƒªãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’è‡ªå‹•çš„ã«ã¤ã‘ã¦ãã‚Œã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- cssnano
	- ãƒ“ãƒ«ãƒ‰èªã®CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’åœ§ç¸®ã—ã¦ãã‚Œã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³


# 4. postCSS, TailwindCSSã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

3.ã§ä½œæˆã•ã‚ŒãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã„ãã¾ã™ã€‚

```js:postcss.config.js
module.exports = {
  plugins: {  // åˆ©ç”¨ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨­å®š
    tailwindcss: {}, // tailwindCSSã®åˆ©ç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
    autoprefixer: {}, // ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹è‡ªå‹•ç”Ÿæˆãƒ—ãƒ©ã‚°ã‚¤ãƒ³
    cssnano: {}, // ãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åœ§ç¸®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
  },
};
```

```js:tailwind.config.js
module.exports = {
  content: [
    // classå±æ€§ã‚’å«ã‚€å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹(jsx,htmlãªã©)
    "./pages/**/*.{js,ts,jsx,tsx}",
    "./components/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

`postcss.config.js`ã§ã¯postcssã§åˆ©ç”¨ã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

`tailwind.config.js`ã§ã¯ã€TailwindCSSã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
TailwindCSSv3.xã§ã¯ã€v2.xã¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹æˆãŒç•°ãªã£ã¦ã„ã¾ã™ã€‚è©³ã—ãã¯[å…¬å¼ãƒšãƒ¼ã‚¸](https://tailwindcss.com/docs/upgrade-guide#migrating-to-the-jit-engine)ã‚’ã”è¦§ãã ã•ã„ã€‚

3.xã§ã¯[Just-in-Time](https://tailwindcss.com/blog/just-in-time-the-next-generation-of-tailwind-css) (JIT)ãŒæ­£å¼ã‚¨ãƒ³ã‚¸ãƒ³ã«ãªã‚Šã€purgeCSSãŒå»ƒæ­¢ã•ã‚Œã¾ã—ãŸã€‚ã¾ãŸã€variantã‚‚ã™ã¹ã¦ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§è‡ªå‹•çš„ã«åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€è¨˜è¿°ãŒä¸è¦ã«ãªã£ã¦ã„ã¾ã™ã€‚
ãªã®ã§ã€ã‚ˆã‚Šç°¡ç´ ã§ä½¿ã„ã‚„ã™ããªã£ã¦ã„ã¾ã™:)


# 5. CSSãƒ•ã‚¡ã‚¤ãƒ«ã®è¨­å®š

`app/myapp/styles/globals.css`ã®å…ˆé ­ã«ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```css:app/myapp/styles/globals.css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

`globals.css`ã¯`app/myapp/pages/_app.tsx`ã§èª­ã¿è¾¼ã¾ã‚Œã„ã‚‹ã®ã§ã€pageså†…ãƒ•ã‚¡ã‚¤ãƒ«ã§TailwindCSSãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

# 6. ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```sh:ãƒ›ã‚¹ãƒˆ
# ctrl+D ã§ä¸€æ™‚çš„ã«ä½œæˆã—ãŸã‚³ãƒ³ãƒ†ãƒŠã®shellã‚’æŠœã‘ã€æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
$ docker-compose up -d 
```

ã‚³ãƒ³ãƒ†ãƒŠå†…ã§`yarn dev`ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
[http://localhost:3000](http://localhost:3000) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ä»¥ä¸‹ã®ç”»é¢ãŒå‡ºãŸã‚‰OKã€‚

![](https://storage.googleapis.com/zenn-user-upload/f11dd4a2c528-20220410.png)

ã¾ãŸã€`app/myapp/pages/index.tsx`ã®JSXã§TailwindCSSã®æ§‹æ–‡ã‚’æ›¸ã„ã¦ã€é©ç”¨ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚ãªãŠã€ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã¯é©ç”¨ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ã‚³ãƒ¼ãƒ‰ã‚’ä¿å­˜ã™ã‚‹ã ã‘ã§ã€é©ç”¨ã•ã‚Œã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚

```tsx:index.tsx
return (
  <main>
    <h1 className=" text-4xl font-bold  text-red-700">ãƒ˜ãƒƒãƒ€ãƒ¼</h1>
  </main>
)
```

# 7. ãƒªãƒ³ã‚¿ãƒ¼ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã®è¨­å®š
## 7.1 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å°å…¥

å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¾ã™ã€‚ãªãŠã€ESLintã¯create next appã«å†…åŒ…ã•ã‚Œã¦ã„ã¾ã™ã€‚

```sh:ã‚³ãƒ³ãƒ†ãƒŠå†…
# $ docker-compose exec front sh ã§ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹
# å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å°å…¥
$ yarn add -D prettier eslint-plugin-tailwindcss eslint-config-prettier
```

å„ç¨®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸èª¬æ˜
- prettier
	- ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼æœ¬ä½“
- eslint-plugin-tailwindcss 
	- tailwindã«ãŠã‘ã‚‹æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ã€classåã®ä¸¦ã³é †ã‚’æŒ‡æ‘˜ã—ã¦ãã‚Œã‚‹ESLintã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- eslint-config-prettier
	- prettierã¨ESLintãŒç«¶åˆã—ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³


## 7.2 eslintè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£

```json:.eslintrc.json
{
  "extends": [
    "next",
    "next/core-web-vitals",
    "prettier", // prettierã¨eslintã¨ã®è¡çªå›é¿
    "plugin:import/recommended",
    "plugin:import/typescript",
    "plugin:import/warnings",
    "plugin:tailwindcss/recommended" // classåã‚’æ•´å½¢ã—ãŸã‚Šã™ã‚‹
  ],
  "rules": {
    // import ã®é †ç•ªã‚’ãƒ«ãƒ¼ãƒ«åŒ–
    "import/order": [
      "error",
      {
        "alphabetize": {
          "order": "asc"
        }
      }
    ]
  }
}
```

importã®ä¸¦ã³é †ã‚’ãƒ«ãƒ¼ãƒ«ã¨ã—ã¦è¦å®šã—ã¦ã„ã¾ã™ã€‚è©³ã—ãã¯ã€[eslint-plugin-import](https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/order.md)ã‚’å‚ç…§ãã ã•ã„ã€‚

## 7.3 ã‚³ãƒãƒ³ãƒ‰è¨­å®š

ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ãªã©ã‚’æŒ‡å®šã—ã¾ã™ã€‚ã¤ã„ã§ã«æœ¬ç•ªç”¨ç¢ºèªç”¨ã‚µãƒ¼ãƒãƒ¼ã®ãƒãƒ¼ãƒˆã¯4000ã«è¨­å®šã—ã¦ãŠãã¾ã™ã€‚é–‹ç™ºãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒãƒ¼ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒãƒ¼ãƒˆã¯3000ã§ã™ã€‚

```json:package.json
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start -p 4000",
    "lint": "next lint",
    "format": "prettier --write --ignore-path .gitignore './**/*.{js,jsx,ts,tsx,json,css}'"
  },
```

# 8. å„ç¨®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ

ä»¥ä¸Šã®è¨­å®šã§ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å„ç¨®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```sh:ã‚³ãƒ³ãƒ†ãƒŠå†…
# ãƒªãƒ³ã‚¿ãƒ¼
$ yarn lint

# ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
$ yarn format

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•(ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ãŒä½¿ãˆã‚‹)
$ yarn dev

# ãƒ“ãƒ«ãƒ‰
$ yarn build

# æœ¬ç•ªç”¨ã‚µãƒ¼ãƒãƒ¼èµ·å‹•(ã¾ãšãƒ“ãƒ«ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚‹)
$ yarn build && yarn start
```

ä»¥ä¸Šã§ã€ã‚ã‚‹ç¨‹åº¦ä½¿ãˆã‚‹ç’°å¢ƒãŒæ•´ã£ãŸã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

# 9. ä»–ãƒ¡ãƒ³ãƒãƒ¼ãŒç’°å¢ƒæ§‹ç¯‰ã™ã‚‹å ´åˆ

ä»¥ä¸Šã§åˆå›ç’°å¢ƒé–‹ç™ºãŒçµ‚ã‚ã‚Šã§ã€ã§ããŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’GitHubãªã©ã§ç®¡ç†ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚

ãã®æ™‚ã€ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒ³ãƒãƒ¼ãŒç’°å¢ƒæ§‹ç¯‰ã™ã‚‹éš›ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚

```sh:ãƒ›ã‚¹ãƒˆ
# ã‚¯ãƒ­ãƒ¼ãƒ³
$ git clone https://github.com/***/project.git

# ç§»å‹•
$ cd ./project

# ã‚¤ãƒ¡ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
$ docker-compose build

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«(åˆå›ã¾ãŸã¯ã€æ–°ãŸã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå°å…¥ã•ã‚ŒãŸæ™‚ã®ã¿)
$ docker-compose run --rm front yarn install --frozen-lockfile

# ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•
$ docker-compose up -d
```

[http://localhost:3000](http://localhost:3000) ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸã‚‰æˆåŠŸã§ã™ï¼



# 10. package.jsonä¿®æ­£

ECSç”¨ã«ä¿®æ­£ã—ã¾ã™ã€‚åˆå›æ™‚ã¯package.jsonãŒãªã‹ã£ãŸãŸã‚è¨˜è¿°ã§ãã¾ã›ã‚“ã§ã—ãŸãŒã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã‚’è¨˜è¿°ã—ã¾ã™ã€‚

ã“ã†ã™ã‚‹ã“ã¨ã§ã€Dockerfileã®ã¿ã‚ã‚Œã°ã€ãƒ™ãƒ¼ã‚¹ã®nodeã®ç’°å¢ƒä¸Šã«å¿…è¦ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å°å…¥ã—ã€ãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```Dockerfile:Dockerfile
FROM node:16.14.2-alpine
WORKDIR /app/

# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰è¿½åŠ 
COPY ./app/package.json ./app/yarn.lock ./
RUN yarn install --frozen-lockfile
# å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼
COPY ./app/ ./

CMD [ "yarn", "build" ]
```


# ãŠã¾ã‘(ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼vscodeã®è¨­å®š)
VSCodeã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹äººé™å®šã§ã™ãŒã€ä»Šå›ã®ç’°å¢ƒã§ä¾¿åˆ©ãªæ‹¡å¼µæ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

- [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)
	- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ESLintã§æ¤œå‡ºã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¤ºã—ã¦ãã‚Œã¾ã™
	- ã¾ãŸä¿å­˜ã¨åŒæ™‚ã«ä¿®æ­£ã—ã¦ãã‚‹è¨­å®šã‚‚ã§ãã¾ã™
- [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)
	- ä¿å­˜ã¨åŒæ™‚ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼ã‚’ã‹ã‘ã¦ãã‚Œã¾ã™
- [PostCSS Language Support](https://marketplace.visualstudio.com/items?itemName=csstools.postcss)
	- cssãƒ•ã‚¡ã‚¤ãƒ«å†…ã§postcssæ§‹æ–‡ã‚’å¯¾å¿œ
- [Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)
	- Tailwindæ§‹æ–‡ã‚’ã‚µã‚¸ã‚§ã‚¹ãƒˆã—ã¦ãã‚Œã¾ã™


ã¾ãŸã€ä¸Šè¨˜ã®æ‹¡å¼µæ©Ÿèƒ½ã®è¨­å®šã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒ³ãƒãƒ¼ã«å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`.vscode/settings.json`ã‚’ä½œæˆã—ã€ãƒ«ãƒ¼ãƒ«ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã ã‘ã§ã™ã€‚
ãã†ã™ã‚‹ã¨ã€ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã ã‘ã§ãƒ«ãƒ¼ãƒ«ãŒé©ç”¨ã•ã‚Œã‚‹ã®ã§ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚

```json:.vscode/settings.json
{
  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ã‚’ prettier ã«è¨­å®š
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  // ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã€prettier ã«ã‚ˆã‚‹è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  "editor.formatOnSave": true,
  // ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã€ESLint ã«ã‚ˆã‚‹è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
  "editor.codeActionsOnSave": {
    "source.fixAll": true
  }
}
```

# æœ€å¾Œã«

é–“é•ã„ã€ã§ããªã„ç­‰ã‚ã‚Œã°ã”æŒ‡æ‘˜ã„ãŸã ã‘ãŸã‚‰ã¨æ€ã„ã¾ã™:)

# å‚è€ƒ

https://tailwindcss.com/docs/guides/nextjs

https://fwywd.com/tech/next-eslint-prettier

https://nextjs.org/docs/api-reference/create-next-app

https://github.com/francoismassart/eslint-plugin-tailwindcss